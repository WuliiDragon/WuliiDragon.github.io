<!DOCTYPE html>
<html lang="zh-Hans">

<!-- Head tag -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="æœ¬æ–‡å°†ä»‹ç»Tomcatä¸­ä¸»è¦çš„é…ç½®æ–‡ä»¶server.xmlçš„ä¸€äº›æ ‡ç­¾åŠå…¶å«ä¹‰Tomcatéš¶å±äºApacheåŸºé‡‘ä¼šï¼Œæ˜¯å¼€æºçš„è½»é‡çº§Webåº”ç”¨æœåŠ¡å™¨ï¼Œä½¿ç”¨éå¸¸å¹¿æ³›ã€‚server.xmlæ˜¯Tomcatä¸­æœ€é‡è¦çš„é…ç½®æ–‡ä»¶ï¼Œserver.xmlçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¯¹åº”äº†Tomcatä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼›é€šè¿‡å¯¹xmlæ–‡ä»¶ä¸­å…ƒ">
    

    <!--Author-->
    
        <meta name="author" content="Dragon">
    

    <!-- Title -->
    
    <title>Tomcat é…ç½®ä¹‹ server.xml | Dragonçš„åšå®¢</title>

    <!-- Bootstrap Core CSS -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Custom Fonts -->
    <link href="//cdn.bootcss.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Noto+Serif:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Content -->
    <section class="article-container">
<!-- Back Home -->
<a class="nav-back" href="/">
    <i class="fa fa-home fa-3x"></i>
</a>

<!-- Page Header -->
<header class="intro-header">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <h1>Tomcat é…ç½®ä¹‹ server.xml</h1>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <!-- Post Main Content -->
            <div class="post-content col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <h1 id="æœ¬æ–‡å°†ä»‹ç»Tomcatä¸­ä¸»è¦çš„é…ç½®æ–‡ä»¶server-xmlçš„ä¸€äº›æ ‡ç­¾åŠå…¶å«ä¹‰"><a href="#æœ¬æ–‡å°†ä»‹ç»Tomcatä¸­ä¸»è¦çš„é…ç½®æ–‡ä»¶server-xmlçš„ä¸€äº›æ ‡ç­¾åŠå…¶å«ä¹‰" class="headerlink" title="æœ¬æ–‡å°†ä»‹ç»Tomcatä¸­ä¸»è¦çš„é…ç½®æ–‡ä»¶server.xmlçš„ä¸€äº›æ ‡ç­¾åŠå…¶å«ä¹‰"></a>æœ¬æ–‡å°†ä»‹ç»Tomcatä¸­ä¸»è¦çš„é…ç½®æ–‡ä»¶server.xmlçš„ä¸€äº›æ ‡ç­¾åŠå…¶å«ä¹‰</h1><p><a href="https://baike.baidu.com/item/tomcat/255751?fr=aladdin" target="_blank" rel="external">Tomcat</a>éš¶å±äºApacheåŸºé‡‘ä¼šï¼Œæ˜¯å¼€æºçš„è½»é‡çº§Webåº”ç”¨æœåŠ¡å™¨ï¼Œä½¿ç”¨éå¸¸å¹¿æ³›ã€‚server.xmlæ˜¯Tomcatä¸­æœ€é‡è¦çš„é…ç½®æ–‡ä»¶ï¼Œserver.xmlçš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½å¯¹åº”äº†Tomcatä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼›é€šè¿‡å¯¹xmlæ–‡ä»¶ä¸­å…ƒç´ çš„é…ç½®ï¼Œå¯ä»¥å®ç°å¯¹Tomcatä¸­å„ä¸ªç»„ä»¶çš„æ§åˆ¶ã€‚å› æ­¤ï¼Œå­¦ä¹ server.xmlæ–‡ä»¶çš„é…ç½®ï¼Œå¯¹äºäº†è§£å’Œä½¿ç”¨Tomcatè‡³å…³é‡è¦ã€‚</p>
<p>å®‰è£…å¥½tomcatåï¼Œåœ¨confç›®å½•ä¸‹çš„server.xmlé»˜è®¤ä¼šæœ‰ä¸€äº›é…ç½®<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">Server</span> <span class="attr">port</span>=<span class="string">"8005"</span> <span class="attr">shutdown</span>=<span class="string">"SHUTDOWN"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">Listener</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.startup.VersionLoggerListener"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">Listener</span> <span class="attr">SSLEngine</span>=<span class="string">"on"</span></span></div><div class="line"><span class="tag">        <span class="attr">className</span>=<span class="string">"org.apache.catalina.core.AprLifecycleListener"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">Listener</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.core.JasperListener"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">Listener</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.core.JreMemoryLeakPreventionListener"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">Listener</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">Listener</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.core.ThreadLocalLeakPreventionListener"</span> /&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">GlobalNamingResources</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">Resource</span> <span class="attr">auth</span>=<span class="string">"Container"</span> <span class="attr">description</span>=<span class="string">"User database that can be updated and saved"</span></span></div><div class="line"><span class="tag">            <span class="attr">factory</span>=<span class="string">"org.apache.catalina.users.MemoryUserDatabaseFactory"</span> <span class="attr">name</span>=<span class="string">"UserDatabase"</span></span></div><div class="line"><span class="tag">            <span class="attr">pathname</span>=<span class="string">"conf/tomcat-users.xml"</span> <span class="attr">type</span>=<span class="string">"org.apache.catalina.UserDatabase"</span> /&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">GlobalNamingResources</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">Service</span> <span class="attr">name</span>=<span class="string">"Catalina"</span>&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">Connector</span> <span class="attr">URIEncoding</span>=<span class="string">"UTF-8"</span> <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span></span></div><div class="line"><span class="tag">            <span class="attr">port</span>=<span class="string">"80"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8009"</span> <span class="attr">protocol</span>=<span class="string">"AJP/1.3"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">Engine</span> <span class="attr">defaultHost</span>=<span class="string">"localhost"</span> <span class="attr">name</span>=<span class="string">"Catalina"</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">Realm</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.realm.LockOutRealm"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">Realm</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.realm.UserDatabaseRealm"</span></span></div><div class="line"><span class="tag">                    <span class="attr">resourceName</span>=<span class="string">"UserDatabase"</span> /&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">Realm</span>&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;<span class="name">Host</span> <span class="attr">appBase</span>=<span class="string">"webapps"</span> <span class="attr">autoDeploy</span>=<span class="string">"true"</span> <span class="attr">name</span>=<span class="string">"localhost"</span></span></div><div class="line"><span class="tag">                <span class="attr">unpackWARs</span>=<span class="string">"true"</span>&gt;</span></div><div class="line"></div><div class="line">                <span class="tag">&lt;<span class="name">Valve</span> <span class="attr">className</span>=<span class="string">"org.apache.catalina.valves.AccessLogValve"</span></span></div><div class="line"><span class="tag">                    <span class="attr">directory</span>=<span class="string">"logs"</span> <span class="attr">pattern</span>=<span class="string">"%h %l %u %t "</span>%<span class="attr">r</span>" %<span class="attr">s</span> %<span class="attr">b</span>" <span class="attr">prefix</span>=<span class="string">"localhost_access_log."</span></span></div><div class="line"><span class="tag">                    <span class="attr">suffix</span>=<span class="string">".txt"</span> /&gt;</span></div><div class="line"></div><div class="line">            <span class="tag">&lt;/<span class="name">Host</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">Engine</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">Service</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p><img src="http://upload-images.jianshu.io/upload_images/1872052-1ae934baaa245023.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt=""></p>
<p>ä»¥ä¸Šçš„å°±æ˜¯æˆ‘ä»¬è¦é€ä¸€ä»‹ç»çš„èŠ‚ç‚¹</p>
<h2 id="ServerèŠ‚ç‚¹"><a href="#ServerèŠ‚ç‚¹" class="headerlink" title="ServerèŠ‚ç‚¹"></a>ServerèŠ‚ç‚¹</h2><p>æè¿°ï¼šServerä»£è¡¨ä¸€ä¸ªTomcatå®ä¾‹ï¼ˆä¸€ä¸ªJVMï¼‰æ‰€ä»¥server.xmlä¸­å”¯ä¸€ä¸€ä¸ªæœ€å¤–å±‚çš„å…ƒç´ ï¼ˆå”¯ä¸€ï¼‰</p>
<p>åŠŸèƒ½ï¼šæä¾›æ¥å£è®©å®¢æˆ·ç«¯èƒ½è®¿é—®ServeråŒ…å«çš„Serviceï¼Œç»´æŠ¤å„ä¸ªServiceçš„ç”Ÿå‘½å‘¨æœŸç­‰ã€‚</p>
<p>å±æ€§ï¼š</p>
<ul>
<li>port: æŒ‡å®šç«¯å£ç›‘å¬å…³é—­tomcatçš„è¯·æ±‚ï¼Œè®¾ä¸º-1å¯ä»¥ç¦æ‰è¯¥ç«¯å£ã€‚</li>
<li>shutdown: å…³é—­tomcatçš„å‘é€çš„å­—ç¬¦ä¸²</li>
</ul>
<h2 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h2><p>æè¿°ï¼šä¸€ä¸ªServerèŠ‚ç‚¹å¯ä»¥åŒ…å«å¤šä¸ªServiceèŠ‚ç‚¹ã€‚ä¸åŒçš„Serviceæ‰€ç›‘å¬çš„ç«¯å£å¿…é¡»æ˜¯ä¸èƒ½é‡å¤çš„ã€‚</p>
<p>åŠŸèƒ½ï¼šä¸€ä¸ªServiceå¯ä»¥ç†è§£ä¸ºEngineå’ŒConnectorçš„å®¹å™¨ã€‚æ¯ä¸ªConnectoré€šè¿‡ä¸€ä¸ªç‰¹å®šçš„ç«¯å£å’Œåè®®æ¥æ”¶å…¥ç«™è¯·æ±‚äº¤å°†å…¶è½¬å‘è‡³å…³è”çš„Engineè¿›è¡Œå¤„ç†ã€‚</p>
<p>å±æ€§ï¼š</p>
<ul>
<li>name:æŒ‡å®šservice çš„åå­—<br>ä¼šé»˜è®¤ç”Ÿæˆä¸€ä¸ªåä¸ºCatalinaçš„Service</li>
</ul>
<p>ServiceåŒ…å«Connectorå’ŒEngineä¸¤ä¸ªèŠ‚ç‚¹ã€‚</p>
<h2 id="Connector"><a href="#Connector" class="headerlink" title="Connector"></a>Connector</h2><p>æè¿°ï¼šä¸€ä¸ªServiceå¯ä»¥åŒ…å«å¤šä¸ªConnectorï¼ŒConnectoræœ‰å¤šç§ç±»å‹</p>
<ul>
<li>HTTPè¿æ¥å™¨</li>
<li>SSLè¿æ¥å™¨</li>
<li>AJP 1.3è¿æ¥å™¨</li>
<li>proxyè¿æ¥å™¨<br>ä»–ç”¨æ¥è¡¨ç¤ºå®¢æˆ·ç«¯å’Œserviceä¹‹é—´çš„è¿æ¥ã€‚</li>
</ul>
<p>HTTP connector ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8080"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span></span></div><div class="line"><span class="tag">      <span class="attr">maxThreads</span>=<span class="string">"150"</span> <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span></span></div><div class="line"><span class="tag">      <span class="attr">redirectPort</span>=<span class="string">"8443"</span> <span class="attr">URIEncoding</span>=<span class="string">"UTF-8"</span>/&gt;</span></div></pre></td></tr></table></figure>
<p>SSL connector ç¤ºä¾‹ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8443"</span></span></div><div class="line"><span class="tag">    <span class="attr">maxThreads</span>=<span class="string">"150"</span> <span class="attr">minSpareThreads</span>=<span class="string">"25"</span> <span class="attr">maxSpareThreads</span>=<span class="string">"75"</span></span></div><div class="line"><span class="tag">    <span class="attr">enableLookups</span>=<span class="string">"false"</span> <span class="attr">acceptCount</span>=<span class="string">"100"</span> <span class="attr">debug</span>=<span class="string">"0"</span> <span class="attr">scheme</span>=<span class="string">"https"</span> <span class="attr">secure</span>=<span class="string">"true"</span></span></div><div class="line"><span class="tag">    <span class="attr">clientAuth</span>=<span class="string">"false"</span> <span class="attr">sslProtocol</span>=<span class="string">"TLS"</span> /&gt;</span></div></pre></td></tr></table></figure></p>
<p>AJP connector ç¤ºä¾‹ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8009"</span> <span class="attr">protocol</span>=<span class="string">"AJP/1.3"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></div><div class="line">`</div></pre></td></tr></table></figure>
<p>åœ¨é»˜è®¤çš„Serviceä¸­åŒ…å«ä¸¤ä¸ªConnectorï¼š<br>åˆ†åˆ«æ˜¯</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8080"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span> <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span><span class="attr">redirectPort</span>=<span class="string">"8443"</span>/&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8009"</span> <span class="attr">protocol</span>=<span class="string">"AJP/1.3"</span> <span class="attr">redirectPort</span>=<span class="string">"8443"</span>/&gt;</span></div></pre></td></tr></table></figure>
<p>æ­¤æ—¶Tomcatç›‘å¬çš„HTTPè¯·æ±‚ï¼Œåè®®æ˜¯HTTP/1.1ï¼Œç«¯å£æ˜¯8080ï¼Œè½¬å‘HTTPSè¯·æ±‚åˆ°8443ç«¯å£ã€‚</p>
<p>é…ç½®<code>&lt;Connector port=&quot;8009&quot; protocol=&quot;AJP/1.3&quot; redirectPort=&quot;8443&quot;/&gt;</code>å®¢æˆ·ç«¯å°±å¯ä»¥é€šè¿‡8009ç«¯å£ä½¿ç”¨AJPåè®®è®¿é—®tomcatã€‚</p>
<p>AJPåè®®ï¼š<br>AJPåè®®è´Ÿè´£å’Œå…¶ä»–httpæœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼ŒæŠŠtomcatæœåŠ¡å™¨å’Œå…¶ä»–httpæœåŠ¡å™¨è¿æ¥æ—¶ï¼Œå°±éœ€è¦è¿™ä¸ªï¼Œä¹‹æ‰€ä»¥ä½¿ç”¨Tomcatå’Œå…¶ä»–æœåŠ¡å™¨é›†æˆï¼Œæ˜¯å› ä¸ºTomcatå¯ä»¥ç”¨ä½œServlet/JSPå®¹å™¨ï¼Œä½†æ˜¯å¯¹é™æ€èµ„æºçš„å¤„ç†é€Ÿåº¦è¾ƒæ…¢ï¼Œä¸å¦‚Apacheå’ŒIISç­‰HTTPæœåŠ¡å™¨ï¼›å› æ­¤å¸¸å¸¸å°†Tomcatä¸Apacheç­‰é›†æˆï¼Œå‰è€…ä½œServletå®¹å™¨ï¼Œåè€…å¤„ç†é™æ€èµ„æºï¼Œè€ŒAJPåè®®ä¾¿è´Ÿè´£Tomcatå’ŒApacheçš„è¿æ¥</p>
<p>åŠŸèƒ½ï¼šæ¥æ”¶è¿æ¥è¯·æ±‚ï¼Œåˆ›å»ºRequestå’ŒResponseå¯¹è±¡ç”¨äºå’Œè¯·æ±‚ç«¯äº¤æ¢æ•°æ®ï¼Œç„¶ååˆ†é…çº¿ç¨‹è®©Engineå¤„ç†è¯·æ±‚å¹¶æŠŠRequestå’ŒResponseå¯¹è±¡ä¼ é€’ç»™Engine</p>
<p>ä¸»è¦å±æ€§å±æ€§ï¼š</p>
<ul>
<li>port æŒ‡å®šæœåŠ¡å™¨è¦åˆ›å»ºçš„ç«¯å£å·ï¼Œå¹¶åœ¨æ”¹ç«¯å£ç›‘å¬å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚</li>
<li>minProcessors æœåŠ¡å¯åŠ¨æ—¶åˆ›å»ºå¤„ç†è¯·æ±‚çš„çº¿ç¨‹æ•°ç›®ã€‚</li>
<li>maxProcessors æœ€å¤§å¯åˆ›å»ºçš„å¤„ç†è¯·æ±‚çº¿ç¨‹æ•°ç›®ã€‚</li>
<li>enableLookups true:è¿›è¡ŒDNSæŸ¥è¯¢å¾—åˆ°è¿œç¨‹å®¢æˆ·ç«¯çš„å®é™…ä¸»æœºå falseä¸è¿›è¡ŒæŸ¥è¯¢ã€‚s</li>
<li>redirectPort å¦‚æœæŸè¿æ¥å™¨æ”¯æŒçš„åè®®æ˜¯HTTPï¼Œå½“æ¥æ”¶å®¢æˆ·ç«¯å‘æ¥çš„HTTPSè¯·æ±‚æ—¶ï¼Œåˆ™è½¬å‘è‡³æ­¤å±æ€§å®šä¹‰çš„ç«¯å£</li>
<li>connectionTimeout ç­‰å¾…å®¢æˆ·ç«¯å‘é€è¯·æ±‚çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ï¼Œé»˜è®¤ä¸º60000ï¼Œå³1åˆ†é’Ÿï¼›</li>
</ul>
<p><a href="https://tomcat.apache.org/tomcat-8.0-doc/config/http.html" target="_blank" rel="external">å…¶ä»–å±æ€§</a></p>
<h2 id="Engine"><a href="#Engine" class="headerlink" title="Engine"></a>Engine</h2><p>æè¿°ï¼šä¸€ä¸ªService å¯¹åº”ä¸€ä¸ªEngineã€‚</p>
<p>åŠŸèƒ½ï¼šä¸€ä¸ªEngineä»ä¸€ä¸ªæˆ–è€…å¤šä¸ªConnectorä¸­æ¥æ”¶è¯·æ±‚å¹¶å¤„ç†ï¼Œå¹¶å°†å®Œæˆçš„å“åº”è¿”å›ç»™Connectorã€‚</p>
<p>ä¸»è¦å±æ€§ï¼š</p>
<ul>
<li>defaultHost é»˜è®¤hostçš„åå­—ã€‚</li>
<li>name ç”¨äºæ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯ï¼Œåœ¨Serverä¸­å”¯ä¸€</li>
<li>startStopThreads è¯¥Engineå¯åŠ¨å­Hosté»˜è®¤å¼€å¯çš„çº¿ç¨‹</li>
</ul>
<h2 id="Host"><a href="#Host" class="headerlink" title="Host"></a>Host</h2><p>æè¿°ï¼šä¸€ä¸ªEngineå¯¹åº”å¤šä¸ªHost ï¼Œæ¯ä¸ªHostä»£è¡¨Engineçš„ä¸€ä¸ªè™šæ‹Ÿä¸»æœºã€‚Hostç»„ä»¶è‡³å°‘æœ‰ä¸€ä¸ªï¼Œä¸”å…¶ä¸­ä¸€ä¸ªçš„nameå¿…é¡»ä¸Engineç»„ä»¶çš„defaultHostå±æ€§ç›¸åŒ¹é…ã€‚</p>
<p>åŠŸèƒ½ï¼šè¿ç”¨æ¥è¿è¡Œå¤šä¸ªwebåº”ç”¨ï¼Œè´Ÿè´£Webåº”ç”¨çš„ç”Ÿå‘½å‘¨æœŸã€‚</p>
<p>tip: è™šæ‹Ÿä¸»æœºæ˜¯ä¸€ç§åœ¨ä¸€ä¸ªwebæœåŠ¡å™¨ä¸ŠæœåŠ¡å¤šä¸ªåŸŸåçš„æœºåˆ¶ï¼Œå¯¹æ¯ä¸ªåŸŸåè€Œè¨€ï¼Œéƒ½å¥½è±¡ç‹¬äº«äº†æ•´ä¸ªä¸»æœºã€‚å®é™…ä¸Šï¼Œå¤§å¤šæ•°çš„å°å‹å•†åŠ¡ç½‘ç«™éƒ½æ˜¯é‡‡ç”¨è™šæ‹Ÿä¸»æœºå®ç°çš„ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸ºè™šæ‹Ÿä¸»æœºèƒ½ç›´æ¥è¿æ¥åˆ°Internetå¹¶æä¾›ç›¸åº”çš„å¸¦å®½ï¼Œä»¥ä¿éšœåˆç†çš„è®¿é—®å“åº”é€Ÿåº¦ï¼Œå¦å¤–è™šæ‹Ÿä¸»æœºè¿˜èƒ½æä¾›ä¸€ä¸ªç¨³å®šçš„å›ºå®šIPã€‚</p>
<p>ä¸»è¦å±æ€§ï¼š</p>
<ul>
<li>name æŒ‡å®šè™šæ‹Ÿä¸»æœºçš„ä¸»æœºå</li>
<li>unpackWARs æ˜¯å¦å°†waræ–‡ä»¶è§£å‹ï¼Œtrueä¸ºè¿è¡Œè§£å‹waræ–‡ä»¶åç¯æ–‡ä»¶å¤¹ï¼Œfalseç›´æ¥è¿è¡Œwaræ–‡ä»¶ã€‚</li>
<li>autoDeploy æ˜¯å¦è‡ªåŠ¨éƒ¨ç½²</li>
<li>appBase æ­¤è™šæ‹ŸHostçš„WebAppå­˜æ”¾è·¯å¾„ã€‚</li>
</ul>
<p>è‹¥åªé…ç½®appBaseï¼Œä¸é…Context çš„docBase(appBaseå’ŒdocBaseäºŒé€‰ä¸€å°±å¯ä»¥äº†)ï¼Œåˆ™appBaseçš„æ¯ä¸ªæ–‡ä»¶å¤¹é‡Œéƒ½ä»£è¡¨ä¸€ä¸ªåº”ç”¨.è¿™ä¸ªç›®å½•ä¸‹é¢çš„.waræ–‡ä»¶å°†è¢«è‡ªåŠ¨è§£å‹ç¼©å¹¶éƒ¨ç½²ä¸ºåº”ç”¨ã€‚</p>
<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><p>æè¿°ï¼šä¸€ä¸ªHostå¯ä»¥å¯¹åº”å¤šä¸ªContextï¼ŒContextè¡¨ç¤ºåœ¨ç‰¹å®šçš„è™šæ‹Ÿä¸»æœºä¸Šè¿è¡Œçš„ä¸€ä¸ªWebåº”ç”¨ã€‚<br>åŠŸèƒ½ï¼š</p>
<p>ä¸»è¦å±æ€§ï¼š</p>
<ul>
<li>path æŒ‡å®šWebåº”ç”¨çš„URLå…¥å£ ï¼ˆå¤šæŒ‡é¡¹ç›®åï¼‰</li>
<li>docBase æŒ‡å®šWebåº”ç”¨çš„æ–‡ä»¶è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ï¼ˆç›¸å¯¹è¯¥Contextæ‰€åœ¨çš„Hostçš„appBaseå±æ€§å€¼ï¼‰</li>
<li>reloadable è‹¥æ­¤å±æ€§ä¸ºtrueï¼Œtomcatåœ¨è¿è¡ŒçŠ¶æ€ä¸‹å›ç›‘è§†WEB-INF/classeså’ŒWEB-INF/libç›®å½•ä¸‹classçš„æ–‡ä»¶æ”¹åŠ¨ï¼Œè‹¥æœ‰æ–‡ä»¶æ›´æ–°æœåŠ¡å™¨ä¼šé‡è½½Webåº”ç”¨</li>
</ul>
<p><a href="https://tomcat.apache.org/tomcat-8.0-doc/config/context.html" target="_blank" rel="external">å…¶ä»–å±æ€§</a></p>
<p>ä¾‹å­ï¼šåœ¨é»˜è®¤Hostæ ‡ç­¾ä¸­æ·»åŠ Context<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;Host name=&quot;localhost&quot; appBase=&quot;webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;</div><div class="line">     &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;</div><div class="line">                       prefix=&quot;localhost_access_log.&quot; suffix=&quot;.txt&quot;</div><div class="line">                       pattern=&quot;%h %l %u %t &quot;%r&quot; %s %b&quot;/&gt;</div><div class="line">    &lt;Context path=&quot;/test&quot; reloadable=&quot;true&quot; docBase=&quot;/Users/WLW/tomcat/webapps2&quot;&gt;</div><div class="line">    </div><div class="line">    &lt;/Context&gt;</div><div class="line">&lt;/Host&gt;</div></pre></td></tr></table></figure></p>
<p>åœ¨<code>/Users/WLW/tomcat/webapps2</code>ä¸‹åˆ›å»ºtest.htmlã€‚</p>
<p>è®¿é—®<code>http://localhost:8080/test/test.html</code> </p>
<p><a href="http://www.jianshu.com/p/40639e2b7679" target="_blank" rel="external">å‚è€ƒ</a></p>

 
                <!-- Meta -->
                <div class="post-meta">
                    <hr>
                    <br>
                    <div class="post-tags">
                        
                    </div>
                    <div class="post-date">
                        2017 å¹´ 09 æœˆ 24 æ—¥
                    </div>
                </div>
            </div>

            <!-- Comments -->
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <!-- Disqus Comments -->


            </div>
        </div>
    </div>
</article>
</section>

    <!-- Scripts -->
    <!-- jQuery -->
<script src="//cdn.bootcss.com/jquery/2.2.1/jquery.min.js"></script>
<!-- Bootstrap -->
<script src="//cdn.bootcss.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

<script type="text/javascript">
	console.log('Hexo-theme-hollow designed by zchen9 ğŸ™‹ Â© 2015-' + (new Date()).getFullYear());
</script>

    <!-- Google Analytics -->
    

</body>

</html>